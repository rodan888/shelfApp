(function(){
	angular.module('fabricApp')
		.controller('newareaCtrl', ['$scope', '$window', '$interval', function($scope, $window, $interval){
			$scope.test = "Hello world";


			var canvas = document.getElementById('new-area'),
				c = new fabric.Canvas(canvas, {
				    isDrawingMode: true
				});

			$scope.clear = function(){
				c.clear();
			};
			$scope.enterDraw = function(){
				c.isDrawingMode = !c.isDrawingMode;

				var path = c._objects[0].path;
				console.log(c);
				console.log(path.toString());
			};

			var area = new fabric.Path('M,436,127,Q,436,127,436.5,127,Q,437,127,429.25,131,Q,421.5,135,414,139.5,Q,406.5,144,399,149.5,Q,391.5,155,385.5,159,Q,379.5,163,375.5,168,Q,371.5,173,368.5,177.5,Q,365.5,182,362.5,188,Q,359.5,194,358.5,200,Q,357.5,206,356.5,211.5,Q,355.5,217,356,225.5,Q,356.5,234,358.5,240,Q,360.5,246,365,253.5,Q,369.5,261,373.5,265.5,Q,377.5,270,381.5,275,Q,385.5,280,391.5,284,Q,397.5,288,405,291.5,Q,412.5,295,420.5,297,Q,428.5,299,441,300,Q,453.5,301,466,301,Q,478.5,301,492,301,Q,505.5,301,519,300.5,Q,532.5,300,545,296.5,Q,557.5,293,568.5,288.5,Q,579.5,284,589.5,281,Q,599.5,278,607,273.5,Q,614.5,269,618.5,265.5,Q,622.5,262,624,259.5,Q,625.5,257,626,255,Q,626.5,253,626.5,249.5,Q,626.5,246,626.5,243,Q,626.5,240,626.5,236,Q,626.5,232,626,227.5,Q,625.5,223,623,218.5,Q,620.5,214,618.5,210.5,Q,616.5,207,612.5,202,Q,608.5,197,605,193.5,Q,601.5,190,596.5,185,Q,591.5,180,585.5,175.5,Q,579.5,171,573,167,Q,566.5,163,559,157.5,Q,551.5,152,544,147,Q,536.5,142,529,137.5,Q,521.5,133,515.5,130,Q,509.5,127,506,124.5,Q,502.5,122,499,120,Q,495.5,118,494,116.5,Q,492.5,115,490.5,114.5,Q,488.5,114,487,113.5,Q,485.5,113,484,112,Q,482.5,111,481.5,111,Q,480.5,111,479.5,110.5,Q,478.5,110,477.5,110,Q,476.5,110,476,110,Q,475.5,110,475,110,Q,474.5,110,473,109.5,Q,471.5,109,470,109,Q,468.5,109,466.5,109,Q,464.5,109,462.5,109,Q,460.5,109,459,109,Q,457.5,109,456,109,Q,454.5,109,453.5,109,Q,452.5,109,451,109,Q,449.5,109,449,109,Q,448.5,109,448,109.5,Q,447.5,110,447,110.5,Q,446.5,111,445.5,112.5,Q,444.5,114,444,114.5,Q,443.5,115,443.5,116,Q,443.5,117,443,118,Q,442.5,119,442,119.5,Q,441.5,120,441.5,120.5,Q,441.5,121,441,121,Q,440.5,121,440,121.5,Q,439.5,122,438.5,122,Q,437.5,122,437,122,Q,436.5,122,436.5,122.5,Q,436.5,123,436,123.5,Q,435.5,124,435.5,125,Q,435.5,126,435.5,126.5,Q,435.5,127,435,127.5,Q,434.5,128,434.5,128.5,Q,434.5,129,434.5,129.5,Q,434.5,130,434.5,130.5,Q,434.5,131,434,131,L,433.5,131');
			c.add(area);

	}]);
}());